{% extends 'base.html' %}

{% block content %}
    <div class="container pt-5 mt-5">
        <div class="row justify-content-center">
            <div class="col-11">
                <h2 class="text-center">Select a radiological image to upload</h2>
                <p>
                    You can upload any radiological image, for example: Computed tomography (CT, CAT), Magnetic resonance,
                    Mammmography, X-raysm PET scans, ultrasound. The algorithm behind has been trained with the following
                    types of radiological images: INSERT LIST HERE
                </p>
            </div>
        </div>

        <div class="row justify-content-around">
            <div class="col-lg-4 col-md-6 col-11 content-top form">
                <form method="post" action="/" enctype="multipart/form-data">
                    <dl>
                        <div class='mb-3'>
                            <label for="formFile" class="form-label">Upload image</label>
                            <input type="file" accept="image/*" name="file" class="form-control" autocomplete="off" required>
                        </div>
                    </dl>
                    <p>
                        <input type="submit" value="Submit" class="btn btn-info">
                    </p>
                </form>
            </div>

        {% if filename %}
            <div class='col-lg-4 col-md-6 col-11 my-auto'>
                <img src="{{ url_for('display_image', filename=filename) }}"  class="img-fluid" alt= "Uploaded radiological image" width="450" height="450">
                <span class="align-middle">
                    <p>
                        Results go HERE
                    </p>
                </span>
            </div>
            <!-- <div class="col-sm-5 col-11 text-center my-auto">
 
            </div> -->
        </div>
        {% endif %}
            <p>
                {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <ul>
                        {% for message in messages %}
                            <li><b>{{ message }}</b></li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% endwith %}
            </p>
        {% if filename %}
           <script src="{{ url_for('recommend_cuis', filename=filename) }}"></script>
        {% endif %}
{% endblock %}